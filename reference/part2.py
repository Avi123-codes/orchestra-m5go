from m5stack import *
from m5ui import *
from uiflow import *
import time
lcd.setRotation(1)


setScreenColor(0x222222)




btn21 = btn.attach(21)
btn22 = btn.attach(22)

image0 = M5Img(0, 0, "res/LastJudge.png", False)
image1 = M5Img(20, -3, "res/OIP (7) (1).jpg", True)

def multiBtnCb_AC():
  # global params
  image1.hide()
  image0.show()
  pass
btn.multiBtnCb(btnA,btnC,multiBtnCb_AC)

def buttonA_wasPressed():
  # global params
  pass
btnA.wasPressed(buttonA_wasPressed)

def buttonB_wasDoublePress():
  # global params
  pass
btnB.wasDoublePress(buttonB_wasDoublePress)

def buttonC_wasPressed():
  # global params
  rgb.setColorAll(0xcc33cc)
  speaker.setVolume(0.2)
  speaker.sing(523, 1/4)
  speaker.sing(494, 1/4)
  speaker.sing(523, 1/4)
  speaker.sing(587, 1/4)
  speaker.sing(523, 1/4)
  speaker.sing(494, 1/4)
  speaker.sing(523, 1/4)
  speaker.sing(698, 1)
  wait_ms(1)
  speaker.sing(262, 1/4)
  speaker.sing(247, 1/4)
  speaker.sing(262, 1/4)
  speaker.sing(220, 1/4)
  speaker.sing(262, 1/4)
  speaker.sing(349, 1/4)
  speaker.sing(440, 1/4)
  speaker.sing(523, 1)
  wait_ms(1)
  speaker.sing(523, 1/4)
  speaker.sing(494, 1/4)
  speaker.sing(523, 1/4)
  speaker.sing(587, 1/4)
  speaker.sing(523, 1/4)
  speaker.sing(494, 1/4)
  speaker.sing(523, 1/4)
  speaker.sing(466, 1)
  wait_ms(1)
  speaker.sing(262, 1/4)
  speaker.sing(247, 1/4)
  speaker.sing(262, 1/4)
  speaker.sing(247, 1/4)
  speaker.sing(262, 1/4)
  speaker.sing(330, 1/4)
  speaker.sing(392, 1/4)
  speaker.sing(466, 1)
  speaker.setVolume(0)
  speaker.tone(1800, 1)
  speaker.setVolume(0.2)
  wait_ms(1)
  speaker.sing(466, 1/4)
  speaker.sing(440, 1/4)
  speaker.sing(466, 1/4)
  speaker.sing(523, 1/4)
  speaker.sing(466, 1/4)
  speaker.sing(440, 1/4)
  speaker.sing(466, 1/4)
  speaker.sing(392, 1)
  wait_ms(1)
  speaker.sing(659, 1/4)
  speaker.sing(622, 1/4)
  speaker.sing(659, 1/4)
  speaker.sing(698, 1/4)
  speaker.sing(659, 1/4)
  speaker.sing(622, 1/4)
  speaker.sing(659, 1/4)
  speaker.sing(523, 1)
  wait_ms(1)
  speaker.sing(466, 1/4)
  speaker.sing(440, 1/4)
  speaker.sing(466, 1/4)
  speaker.sing(523, 1/4)
  speaker.sing(466, 1/4)
  speaker.sing(440, 1/4)
  speaker.sing(392, 1/4)
  speaker.sing(415, 1/2)
  speaker.sing(415, 1/4)
  speaker.sing(440, 1/4)
  speaker.sing(415, 1/4)
  speaker.sing(440, 1/4)
  speaker.sing(415, 1/4)
  speaker.sing(440, 1/4)
  speaker.sing(415, 1/4)
  speaker.sing(440, 1/4)
  speaker.sing(523, 1/4)
  speaker.sing(466, 1/4)
  speaker.sing(440, 1)
  wait_ms(1)
  speaker.sing(523, 1/4)
  speaker.sing(494, 1/4)
  speaker.sing(523, 1/4)
  speaker.sing(587, 1/4)
  speaker.sing(523, 1/4)
  speaker.sing(494, 1/4)
  speaker.sing(523, 1/4)
  speaker.sing(698, 1/2)
  speaker.sing(440, 1/2)
  speaker.sing(523, 1/2)
  speaker.sing(349, 1/2)
  speaker.sing(440, 1/2)
  speaker.sing(262, 1/2)
  speaker.sing(262, 1/4)
  speaker.sing(349, 1/4)
  speaker.sing(440, 1/4)
  speaker.sing(523, 1/4)
  speaker.sing(698, 1/4)
  speaker.sing(659, 1/4)
  speaker.sing(587, 1/4)
  speaker.sing(523, 1/4)
  speaker.sing(466, 1/4)
  speaker.sing(440, 1/4)
  speaker.sing(392, 1/4)
  speaker.sing(349, 1/4)
  speaker.sing(330, 1)
  speaker.sing(330, 1/4)
  speaker.sing(262, 1/4)
  speaker.sing(330, 1/4)
  speaker.sing(392, 1/4)
  speaker.sing(330, 1/4)
  speaker.sing(392, 1/4)
  speaker.sing(523, 1/4)
  speaker.sing(659, 1/4)
  speaker.sing(784, 1)
  wait_ms(1)
  speaker.sing(523, 1/4)
  speaker.sing(494, 1/4)
  speaker.sing(523, 1/4)
  speaker.sing(587, 1/4)
  speaker.sing(523, 1/4)
  speaker.sing(494, 1/4)
  speaker.sing(523, 1/4)
  speaker.sing(330, 1/4)
  speaker.sing(523, 1/4)
  speaker.sing(494, 1/4)
  speaker.sing(523, 1/4)
  speaker.sing(587, 1/4)
  speaker.sing(523, 1/4)
  speaker.sing(494, 1/4)
  speaker.sing(523, 1/4)
  speaker.sing(392, 1/4)
  speaker.sing(523, 1/4)
  speaker.sing(494, 1/4)
  speaker.sing(523, 1/4)
  speaker.sing(466, 1/4)
  speaker.sing(523, 1/4)
  speaker.sing(587, 1/4)
  speaker.sing(659, 1/4)
  speaker.sing(784, 1/4)
  speaker.sing(698, 1/4)
  speaker.sing(659, 1/4)
  speaker.sing(587, 1/4)
  speaker.sing(523, 1/4)
  speaker.sing(494, 1/4)
  speaker.sing(440, 1/4)
  speaker.sing(392, 1/4)
  speaker.sing(349, 1)
  speaker.sing(392, 1/4)
  speaker.sing(349, 1/4)
  speaker.sing(330, 1/4)
  speaker.sing(349, 1/4)
  speaker.sing(262, 1/4)
  speaker.sing(349, 1/4)
  speaker.sing(440, 1/4)
  speaker.sing(523, 1/4)
  speaker.sing(698, 1)
  wait_ms(1)
  rgb.setColorAll(0x3366ff)
  pass
btnC.wasPressed(buttonC_wasPressed)

def buttonA_pressFor():
  # global params
  wait(3)
  for count in range(10):
    setScreenColor(0xff0000)
    setScreenColor(0x000000)
  image0.show()
  pass
btnA.pressFor(0.8, buttonA_pressFor)

def buttonC_wasDoublePress():
  # global params
  lcd.rect(0, 0, 320, 48, fillcolor=0x66ffff)
  lcd.rect(0, 192, 320, 48, fillcolor=0x66ffff)
  lcd.rect(0, 48, 320, 48, fillcolor=0xff99ff)
  lcd.rect(0, 144, 320, 48, fillcolor=0xff99ff)
  lcd.rect(0, 96, 320, 48, fillcolor=0xffffff)
  pass
btnC.wasDoublePress(buttonC_wasDoublePress)


rgb.setColorFrom(6, 10, 0x3366ff)
rgb.setColorFrom(1, 5, 0x3366ff)
while True:
  if btn21.isPressed():
    speaker.setVolume(0.2)
    rgb.setColorAll(0x33ff33)
    speaker.sing(233, 2)
    speaker.sing(294, 1)
    speaker.sing(220, 1)
    speaker.sing(233, 2)
    speaker.sing(262, 2)
    speaker.sing(294, 2)
    speaker.sing(294, 1)
    speaker.sing(311, 1)
    speaker.sing(349, 2)
    speaker.sing(311, 4)
    speaker.sing(294, 1)
    speaker.sing(262, 1)
    speaker.sing(262, 2)
    speaker.sing(233, 2)
    speaker.sing(294, 2)
    speaker.sing(311, 2)
    speaker.sing(233, 2)
    speaker.sing(262, 2)
    speaker.sing(294, 2)
    speaker.sing(294, 1)
    speaker.sing(311, 1)
    speaker.sing(349, 2)
    speaker.sing(392, 2)
    speaker.sing(262, 1)
    speaker.sing(294, 1)
    speaker.sing(311, 2)
    speaker.sing(294, 4)
    speaker.sing(294, 4)
    rgb.setColorAll(0x3366ff)
  elif btn22.isPressed():
    speaker.setVolume(0.25)
    wait(64)
    rgb.setColorAll(0xffff00)
    speaker.sing(587, 1)
    speaker.sing(554, 1)
    speaker.sing(587, 1)
    speaker.sing(294, 1)
    speaker.sing(277, 1)
    speaker.sing(440, 1)
    speaker.sing(330, 1)
    speaker.sing(370, 1)
    speaker.sing(294, 1)
    speaker.sing(587, 1)
    speaker.sing(554, 1)
    speaker.sing(494, 1)
    speaker.sing(554, 1)
    speaker.sing(740, 1)
    speaker.sing(880, 1)
    speaker.sing(988, 1)
    speaker.sing(784, 1)
    speaker.sing(740, 1)
    speaker.sing(659, 1)
    speaker.sing(784, 1)
    speaker.sing(740, 1)
    speaker.sing(659, 1)
    speaker.sing(587, 1)
    speaker.sing(554, 1)
    speaker.sing(494, 1)
    speaker.sing(440, 1)
    speaker.sing(392, 1)
    speaker.sing(370, 1)
    speaker.sing(330, 1)
    speaker.sing(392, 1)
    speaker.sing(370, 1)
    speaker.sing(330, 1)
    speaker.sing(294, 1)
    speaker.sing(330, 1)
    speaker.sing(370, 1)
    speaker.sing(392, 1)
    speaker.sing(440, 1)
    speaker.sing(330, 1)
    speaker.sing(440, 1)
    speaker.sing(392, 1)
    speaker.sing(370, 1)
    speaker.sing(494, 1)
    speaker.sing(440, 1)
    speaker.sing(392, 1)
    speaker.sing(440, 1)
    speaker.sing(392, 1)
    speaker.sing(370, 1)
    speaker.sing(330, 1)
    speaker.sing(294, 1)
    speaker.sing(247, 1)
    speaker.sing(494, 1)
    speaker.sing(554, 1)
    speaker.sing(587, 1)
    speaker.sing(554, 1)
    speaker.sing(494, 1)
    speaker.sing(440, 1)
    speaker.sing(392, 1)
    speaker.sing(370, 1)
    speaker.sing(330, 1)
    speaker.sing(494, 1)
    speaker.sing(440, 1)
    speaker.sing(494, 1)
    speaker.sing(440, 1)
    speaker.sing(392, 1)
    speaker.sing(370, 1)
    rgb.setColorAll(0x3366ff)
  wait_ms(2)


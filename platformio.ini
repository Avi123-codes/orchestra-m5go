; PlatformIO Project Configuration File
; Visit: https://docs.platformio.org/page/projectconf.html

[env:m5stack-core-esp32]
platform = espressif32
board = m5stack-core-esp32
framework = espidf

; Serial Monitor options
monitor_speed = 115200
monitor_filters = esp32_exception_decoder

; Build options
build_flags =
    -DCORE_DEBUG_LEVEL=3
    -DCONFIG_SPIRAM_SUPPORT=1
    -Wno-error=format
    -Wno-error=unused-variable
    -Wno-error=unused-function

upload_port = COM3
monitor_port = COM3

; ---------------------------------------------------------------------------
; Per-role environments: build & flash with the right role baked in.
; Usage examples:
;   pio run -e conductor -t upload
;   pio run -e part1 -t upload
;   pio run -e part2 -t upload
;   pio run -e part3 -t upload
;   pio run -e part4 -t upload
; Adjust upload_port values to match each deviceâ€™s COM port.
; ---------------------------------------------------------------------------

[env:conductor]
platform = espressif32
board = m5stack-core-esp32
framework = espidf
build_flags =
    -DDEVICE_ROLE=ROLE_CONDUCTOR
upload_port = COM3

[env:part1]
platform = espressif32
board = m5stack-core-esp32
framework = espidf
build_flags =
    -DDEVICE_ROLE=ROLE_PART_1
upload_port = COM4

[env:part2]
platform = espressif32
board = m5stack-core-esp32
framework = espidf
build_flags =
    -DDEVICE_ROLE=ROLE_PART_2
upload_port = COM5

[env:part3]
platform = espressif32
board = m5stack-core-esp32
framework = espidf
build_flags =
    -DDEVICE_ROLE=ROLE_PART_3
upload_port = COM6

[env:part4]
platform = espressif32
board = m5stack-core-esp32
framework = espidf
build_flags =
    -DDEVICE_ROLE=ROLE_PART_4
upload_port = COM7
